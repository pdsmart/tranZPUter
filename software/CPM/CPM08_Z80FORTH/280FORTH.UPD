                                                                  1988-NOV-12

Z280 fig-FORTH using random CP/M file access
-------------------------------------------

Z280 fig-FORTH 1.1a, the first version of Z280 fig-FORTH by Edmund Ramm uses
modified Albert van der Horst random file access routines.

All system calls are done via the BDOS, so this FORTH version should run un-
der all CP/M-80 versions.

Words which have been deleted from the dictionary (most of them low level de-
finitions) are DRIVE, TRACK, SECTOR, SETIO, SETDRV, SEC/BLK & DENSITY.

A BDOS call has been introduced: BDOS   ( parm fcode --- dircode)  where parm
stands  for  the  parameter  passed to the BDOS in the DE register pair,  and
fcode is the BDOS function number.  Dircode is the directory code returned by
the BDOS. This enables you to access CP/M files using high level definitions.

BYE  is now defined  as  a high level word  which  ensures that  all  updated
screens are written back to disc.

COLD re-opens the screens file and issues a warning upon failure.

FCB  is another new word.  It leaves the address  of the current file control
block on the stack.

REC# pushes the corresponding record count address onto the stack.

EXTEND   ( n ---)  extends (sic!) the logged in screens file by n blocks,  as
long as disc space permits.  You could start by SAVE-ing a 0-size file at CCP
level and then expand it after you logged in same file at the time you invoke
280FORTH (e.g. 280FORTH B:SCREENS.FRT).

The actions of all other words remain  as defined in the fig-FORTH Installa-
tion Manual's Glossary, available from the FORTH Interest Group, PO Box 1105
San Carlos, CA 94070, USA.

Please report bugs to    Edmund  R a m m
                         P.O.Box 1338
                       D-2358 Kaltenkirchen
                         Fed. Rep of Germany
                         Tel.: (04191) 1621
